<ol class="breadcrumb">
  <li class="breadcrumb-item">Viáticos ></li>
</ol>

<section id="asignaciones">
  <!-- HEAD -->
  <div class="row">
    <div class="col-12">
      <h2><span class="fi flaticon-price-tag px-3"></span>Asignar Viáticos</h2>
    </div>
  </div>
  <!-- / HEAD -->

  <!-- CONTENT -->
  <!-- TABLE -->
  <div class="row pt-3">
    <div class="col-lg-12">
      <section class="widget" widget>
        <div class="widget-body">
          <div class="mt">
            <div class="float-right mb">
              <div class="input-group input-group-rounded">
                <span class="input-group-prepend">
                  <span class="input-group-text">
                    <i class="fa fa-search"></i>
                  </span>
                </span>
                <input class="form-control" (keyup)='searchAsignaciones($event)' type="text" placeholder="Buscar">
              </div>
            </div>
            
            <ngx-datatable
              class="material"  
              [rows]="asignacionListadoDataTable"
              [columnMode]="'force'"
              [headerHeight]="50"
              [footerHeight]="50"
              [rowHeight]="'auto'"
              [limit]="10"
              [scrollbarH]="true"
              (activate) = "onActivate($event)"
              [scrollbarH]="true"
              [messages]="{emptyMessage: 'Sin registros', totalMessage: 'Total', selectedMessage: false}">
              <ngx-datatable-column prop="numeroSolicitud" name="# SOLICITUD" [flexGrow]="1" [minWidth]="130"> 
              </ngx-datatable-column>
              <ngx-datatable-column prop="nombre" name="SOLICITANTE" [flexGrow]="1" [minWidth]="200">
              </ngx-datatable-column>
              <ngx-datatable-column name="DATOS EVENTO" [flexGrow]="1" [minWidth]="220">
                <ng-template let-row="row" ngx-datatable-cell-template>
                  <small>
                    <span class="fw-semi-bold">Fecha:</span>
                    &nbsp; {{row.fecha}}
                  </small>
                  <br>
                  <small>
                    <span class="fw-semi-bold">Lugar:</span>
                    &nbsp; {{row.ciudadDestino}}
                  </small>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column prop="montoAsignado" name="MONTO ASIGNADO" [flexGrow]="1" [minWidth]="200">
                <ng-template let-sort="sortFn" let-column="column" ngx-datatable-header-template>
                  <div class="align-right">
                    <span class="datatable-header-cell-wrapper" (click)="sort()">{{column.name}}</span>
                  </div>
                </ng-template>
                <ng-template let-value="value" ngx-datatable-cell-template>
                  <div class="align-right">
                    {{value | MoneyPipe}}
                  </div>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column prop="montoTransferido" name="MONTO TRANSFERIDO" [flexGrow]="1" [minWidth]="200">
                <ng-template let-sort="sortFn" let-column="column" ngx-datatable-header-template>
                  <div class="align-right">
                    <span class="datatable-header-cell-wrapper" (click)="sort()">{{column.name}}</span>
                  </div>
                </ng-template>
                <ng-template let-value="value" ngx-datatable-cell-template>
                  <div class="align-right">
                    {{value | MoneyPipe}}
                  </div>
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column prop="estatus" name="ESTATUS" width="180" [flexGrow]="1" [minWidth]="200">                
              </ngx-datatable-column>
            </ngx-datatable>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- SPINNER -->
  <ngx-spinner  bdOpacity=0.9 bdColor="rgba(51,51,51,0.49)" size="medium" color="#fff" type="square-jelly-box" [fullScreen]="false"></ngx-spinner>
  <!-- /SPINNER -->
</section>
